FROM  mcr.microsoft.com/devcontainers/python:3.11
RUN  apt-get  update  &&  apt-get install  -y  curl  gnupg  apt-transport-https
RUN  curl  https://packages.microsoft.com/keys/microsoft.asc  |  gpg --dearmor  >  microsoft.gpg  &&  \
       install -o  root  -g  root  -m 644  microsoft.gpg  /usr/share/keyrings/microsoft.gpg  &&  \
       echo "deb  [arch=amd64  signed-by=/usr/share/keyrings/microsoft.gpg]  https://packages.microsoft.com/ubuntu/22.04/prod  jammy main"  >  /etc/apt/sources.list.d/msprod.list  &&  \
       apt-get update  &&  ACCEPT_EULA=Y  apt-get  install -y  msodbcsql18  unixodbc-dev  &&  rm -rf  /var/lib/apt/lists/*
WORKDIR  /app
COPY requirements.txt  .
RUN  pip  install --no-cache-dir  -r  requirements.txt
COPY  app.py .
ENV  PORT=8080
CMD  ["python", "app.py"]
